this.window&&(window.global=window),Object.assign(global,{g:global,skin:{},unit:{}}),(()=>{global.state={_raw:{},initEmpty:function(){state._raw={page:{},models:{},articles:{},male:[],female:[],news:[]}},setPage:function(t){e.page=t},addModel:t,addModels:function(e){e.forEach(t)},addArticle:function(t){e.articles[t.id]=t},setMaleList:function(t){e.male=t},setFemaleList:function(t){e.female=t},setNewsList:function(t){e.news=t},getPage:function(){return e.page},getMaleModels:function(){return[{url:"/",name:"Marko Polo",photo:"http://localhost:8000/images/man1.jpg",height:{cm:189,inch:"5' 9.5\""},chest:{cm:10,inch:'33"'},waist:{cm:10,inch:'24.5"'},hips:{cm:10,inch:'35.5"'}},{url:"/",name:"Andrew Z",photo:"http://localhost:8000/images/man2.jpg",height:{cm:178,inch:"5' 9.5\""},chest:{cm:10,inch:'33"'},waist:{cm:10,inch:'24.5"'},hips:{cm:10,inch:'35.5"'}},{url:"/",name:"Johny Y",photo:"http://localhost:8000/images/man3.jpg",height:{cm:198,inch:"5' 9.5\""},chest:{cm:10,inch:'33"'},waist:{cm:10,inch:'24.5"'},hips:{cm:10,inch:'35.5"'}},{url:"/",name:"Sergey K",photo:"http://localhost:8000/images/man4.jpg",height:{cm:10,inch:"5' 9.5\""},chest:{cm:10,inch:'33"'},waist:{cm:10,inch:'24.5"'},hips:{cm:10,inch:'35.5"'}},{url:"/",name:"Marko Polo",photo:"http://localhost:8000/images/man5.jpg",height:{cm:10,inch:"5' 9.5\""},chest:{cm:10,inch:'33"'},waist:{cm:10,inch:'24.5"'},hips:{cm:10,inch:'35.5"'}},{url:"/",name:"Marko Polo",photo:"http://localhost:8000/images/man6.jpg",height:{cm:10,inch:"5' 9.5\""},chest:{cm:10,inch:'33"'},waist:{cm:10,inch:'24.5"'},hips:{cm:10,inch:'35.5"'}},{url:"/",name:"Marko Polo",photo:"http://localhost:8000/images/man7.jpg",height:{cm:10,inch:"5' 9.5\""},chest:{cm:10,inch:'33"'},waist:{cm:10,inch:'24.5"'},hips:{cm:10,inch:'35.5"'}},{url:"/",name:"Marko Polo",photo:"http://localhost:8000/images/man8.jpg",height:{cm:10,inch:"5' 9.5\""},chest:{cm:10,inch:'33"'},waist:{cm:10,inch:'24.5"'},hips:{cm:10,inch:'35.5"'}}]},getFemaleModels:function(){return[{url:"/",name:"Marko Polo",photo:"http://localhost:8000/images/woman1.jpg",height:{cm:189,inch:"5' 9.5\""},chest:{cm:10,inch:'33"'},waist:{cm:10,inch:'24.5"'},hips:{cm:10,inch:'35.5"'}},{url:"/",name:"Andrew Z",photo:"http://localhost:8000/images/woman2.jpg",height:{cm:178,inch:"5' 9.5\""},chest:{cm:10,inch:'33"'},waist:{cm:10,inch:'24.5"'},hips:{cm:10,inch:'35.5"'}},{url:"/",name:"Johny Y",photo:"http://localhost:8000/images/woman3.jpg",height:{cm:198,inch:"5' 9.5\""},chest:{cm:10,inch:'33"'},waist:{cm:10,inch:'24.5"'},hips:{cm:10,inch:'35.5"'}},{url:"/",name:"Sergey K",photo:"http://localhost:8000/images/woman4.jpg",height:{cm:10,inch:"5' 9.5\""},chest:{cm:10,inch:'33"'},waist:{cm:10,inch:'24.5"'},hips:{cm:10,inch:'35.5"'}},{url:"/",name:"Marko Polo",photo:"http://localhost:8000/images/woman5.jpg",height:{cm:10,inch:"5' 9.5\""},chest:{cm:10,inch:'33"'},waist:{cm:10,inch:'24.5"'},hips:{cm:10,inch:'35.5"'}},{url:"/",name:"Marko Polo",photo:"http://localhost:8000/images/woman6.jpg",height:{cm:10,inch:"5' 9.5\""},chest:{cm:10,inch:'33"'},waist:{cm:10,inch:'24.5"'},hips:{cm:10,inch:'35.5"'}},{url:"/",name:"Marko Polo",photo:"http://localhost:8000/images/woman7.jpg",height:{cm:10,inch:"5' 9.5\""},chest:{cm:10,inch:'33"'},waist:{cm:10,inch:'24.5"'},hips:{cm:10,inch:'35.5"'}},{url:"/",name:"Marko Polo",photo:"http://localhost:8000/images/woman8.jpg",height:{cm:10,inch:"5' 9.5\""},chest:{cm:10,inch:'33"'},waist:{cm:10,inch:'24.5"'},hips:{cm:10,inch:'35.5"'}}]}};let e=state._raw;function t(t){e.models[t.id]=t}})(),(()=>{global.nav={urlFor:{},page:{},generateUrl:function(t){if("main"===t.type||"about"===t.type||"join"===t.type)return e[t.type]},parseUrl:function(e){const[i,r]=e.split("?"),o=i.slice(1).split("/"),[a,s,l]=o;return a?"about"===a?s?t.notFound:t.about:"contact"===a?s?t.notFound:t.contact:"join"===a?s?t.notFound:t.join:"news"===a?s?l?t.notFound:t.article(s):t.news:"men"===a||"women"===a?s?l?t.notFound:t.model(n(a),s):t.modelsList(n(a)):t.notFound:t.main}};const e={main:"/",about:"/about",contact:"/contact",join:"/join",news:"/news",article:e=>`/news/${e}`,modelsList:e=>`/${genderSlug(e)}`,model:(e,t)=>`/${genderSlug(e)}/${t}`},t={main:{type:"main"},about:{type:"about"},contact:{type:"contact"},join:{type:"join"},news:{type:"news"},article:e=>({type:"article",articleId:e}),modelsList:e=>({type:"modelsList",gender:e}),model:(e,t)=>({type:"model",gender:e,modelId:t}),notFound:{type:"notFound"}};function n(e){return"men"===e?1:0}})(),global.q={},(()=>{Object.assign(q,{attr:t,act:function(t){return(t=Array.isArray(t)?t:[t])[e]=!0,t},onBlur:n("onblur"),onChange:n("onchange"),onClick:n("onclick"),onFocus:n("onfocus"),onInput:n("oninput"),onKeyDown:n("onkeydown"),onKeyUp:n("onkeyup"),onMouseDown:n("onmousedown"),onMouseUp:n("onmouseup"),onTouchEnd:n("ontouchend"),onTouchStart:n("ontouchstart")});const e="__q_is_act";function t(e,t){return`${e}="${t}"`}function n(e){return(...n)=>t(e,function(e){const t=e[0];params=e.slice(1);const n=params.filter(i).map(e=>e[0]),r=[].concat(...params).map((o=n,e=>"number"==typeof e||"event"===e||"this"===e||o.includes(e)?e:JSON.stringify(e))).join(", ");var o;return`${t}(${r})`}(n))}function i(t){return Array.isArray(t)&&t[e]}})(),(()=>{Object.assign(q,{html:function(e,...t){let n="";return e.forEach((e,i)=>{let r=t[i];Array.isArray(r)&&(r=r.join("")),n+=e+(r||0===r?r:"")}),n}})})(),(()=>{this.befall=function(){const e=[],t=function(){const e=this,t=arguments;if("function"!=typeof t[0]){let n=!1;return e.forEach(e=>{!0===e.apply(null,t)&&(n=!0)}),n}[].slice.call(t).forEach(t=>e.push(t))}.bind(e);return t.off=function(e){const t=this;e?function(e,t){for(;;){const n=e.indexOf(t);if(!(n>=0))break;e.splice(n,-1)}}(t,e):t.length=0}.bind(e),t._subscribers=e,t._args=Array.from(arguments),t}})(),window.$=document.querySelector.bind(document),window.$$=document.querySelectorAll.bind(document),HTMLElement.prototype.$=HTMLElement.prototype.querySelector,HTMLElement.prototype.$$=HTMLElement.prototype.querySelectorAll,function(){"use strict";var e=function(t){if(!(this instanceof e))return new e(t);if(this.version=1,this.support=!("undefined"==typeof File||"undefined"==typeof Blob||"undefined"==typeof FileList||!Blob.prototype.webkitSlice&&!Blob.prototype.mozSlice&&!Blob.prototype.slice),!this.support)return!1;var n=this;n.files=[],n.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,fileParameterName:"file",chunkNumberParameterName:"resumableChunkNumber",chunkSizeParameterName:"resumableChunkSize",currentChunkSizeParameterName:"resumableCurrentChunkSize",totalSizeParameterName:"resumableTotalSize",typeParameterName:"resumableType",identifierParameterName:"resumableIdentifier",fileNameParameterName:"resumableFilename",relativePathParameterName:"resumableRelativePath",totalChunksParameterName:"resumableTotalChunks",throttleProgressCallbacks:.5,query:{},headers:{},preprocess:null,method:"multipart",uploadMethod:"POST",testMethod:"GET",prioritizeFirstAndLastChunk:!1,target:"/",testTarget:null,parameterNamespace:"",testChunks:!0,generateUniqueIdentifier:null,getTarget:null,maxChunkRetries:100,chunkRetryInterval:void 0,permanentErrors:[400,404,415,500,501],maxFiles:void 0,withCredentials:!1,xhrTimeout:0,clearInput:!0,chunkFormat:"blob",setChunkTypeFromFile:!1,maxFilesErrorCallback:function(e,t){var i=n.getOpt("maxFiles");alert("Please upload no more than "+i+" file"+(1===i?"":"s")+" at a time.")},minFileSize:1,minFileSizeErrorCallback:function(e,t){alert(e.fileName||e.name+" is too small, please upload files larger than "+i.formatSize(n.getOpt("minFileSize"))+".")},maxFileSize:void 0,maxFileSizeErrorCallback:function(e,t){alert(e.fileName||e.name+" is too large, please upload files less than "+i.formatSize(n.getOpt("maxFileSize"))+".")},fileType:[],fileTypeErrorCallback:function(e,t){alert(e.fileName||e.name+" has type not allowed, please upload files of type "+n.getOpt("fileType")+".")}},n.opts=t||{},n.getOpt=function(t){var n=this;if(t instanceof Array){var r={};return i.each(t,function(e){r[e]=n.getOpt(e)}),r}if(n instanceof h){if(void 0!==n.opts[t])return n.opts[t];n=n.fileObj}if(n instanceof u){if(void 0!==n.opts[t])return n.opts[t];n=n.resumableObj}if(n instanceof e)return void 0!==n.opts[t]?n.opts[t]:n.defaults[t]},n.events=[],n.on=function(e,t){n.events.push(e.toLowerCase(),t)},n.fire=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);var i=e[0].toLowerCase();for(t=0;t<=n.events.length;t+=2)n.events[t]==i&&n.events[t+1].apply(n,e.slice(1)),"catchall"==n.events[t]&&n.events[t+1].apply(null,e);"fileerror"==i&&n.fire("error",e[2],e[1]),"fileprogress"==i&&n.fire("progress")};var i={stopEvent:function(e){e.stopPropagation(),e.preventDefault()},each:function(e,t){if(void 0!==e.length){for(var n=0;n<e.length;n++)if(!1===t(e[n]))return}else for(n in e)if(!1===t(n,e[n]))return},generateUniqueIdentifier:function(e,t){var i=n.getOpt("generateUniqueIdentifier");if("function"==typeof i)return i(e,t);var r=e.webkitRelativePath||e.fileName||e.name;return e.size+"-"+r.replace(/[^0-9a-zA-Z_-]/gim,"")},contains:function(e,t){var n=!1;return i.each(e,function(e){return e!=t||(n=!0,!1)}),n},formatSize:function(e){return e<1024?e+" bytes":e<1048576?(e/1024).toFixed(0)+" KB":e<1073741824?(e/1024/1024).toFixed(1)+" MB":(e/1024/1024/1024).toFixed(1)+" GB"},getTarget:function(e,t){var i=n.getOpt("target");return"test"===e&&n.getOpt("testTarget")&&(i="/"===n.getOpt("testTarget")?n.getOpt("target"):n.getOpt("testTarget")),"function"==typeof i?i(t):i+(i.indexOf("?")<0?"?":"&")+t.join("&")}},r=function(e){i.stopEvent(e),e.dataTransfer&&e.dataTransfer.items?l(e.dataTransfer.items,e):e.dataTransfer&&e.dataTransfer.files&&l(e.dataTransfer.files,e)},o=function(e){e.preventDefault()};function a(e,t,n,i){var r,o,l,c,u;return e.isFile?e.file(function(e){e.relativePath=t+e.name,n.push(e),i()}):(e.isDirectory?r=e:e instanceof File&&n.push(e),"function"==typeof e.webkitGetAsEntry&&(r=e.webkitGetAsEntry()),r&&r.isDirectory?(o=r,l=t+r.name+"/",c=n,u=i,void o.createReader().readEntries(function(e){if(!e.length)return u();s(e.map(function(e){return a.bind(null,e,l,c)}),u)})):("function"==typeof e.getAsFile&&(e=e.getAsFile())instanceof File&&(e.relativePath=t+e.name,n.push(e)),void i()))}function s(e,t){if(!e||0===e.length)return t();e[0](function(){s(e.slice(1),t)})}function l(e,t){if(e.length){n.fire("beforeAdd");var i=[];s(Array.prototype.map.call(e,function(e){return a.bind(null,e,"",i)}),function(){i.length&&c(i,t)})}}var c=function(e,t){var r=0,o=n.getOpt(["maxFiles","minFileSize","maxFileSize","maxFilesErrorCallback","minFileSizeErrorCallback","maxFileSizeErrorCallback","fileType","fileTypeErrorCallback"]);if(void 0!==o.maxFiles&&o.maxFiles<e.length+n.files.length){if(1!==o.maxFiles||1!==n.files.length||1!==e.length)return o.maxFilesErrorCallback(e,r++),!1;n.removeFile(n.files[0])}var a=[],s=[],l=e.length,c=function(){if(!--l){if(!a.length&&!s.length)return;window.setTimeout(function(){n.fire("filesAdded",a,s)},0)}};i.each(e,function(e){var l=e.name,h=e.type;if(o.fileType.length>0){var f=!1;for(var m in o.fileType){o.fileType[m]=o.fileType[m].replace(/\s/g,"").toLowerCase();var p=(o.fileType[m].match(/^[^.][^/]+$/)?".":"")+o.fileType[m];if(l.substr(-1*p.length)===p||-1!==p.indexOf("/")&&(-1!==p.indexOf("*")&&h.substr(0,p.indexOf("*"))===p.substr(0,p.indexOf("*"))||h===p)){f=!0;break}}if(!f)return o.fileTypeErrorCallback(e,r++),!1}if(void 0!==o.minFileSize&&e.size<o.minFileSize)return o.minFileSizeErrorCallback(e,r++),!1;if(void 0!==o.maxFileSize&&e.size>o.maxFileSize)return o.maxFileSizeErrorCallback(e,r++),!1;function d(i){n.getFromUniqueIdentifier(i)?s.push(e):function(){e.uniqueIdentifier=i;var r=new u(n,e,i);n.files.push(r),a.push(r),r.container=void 0!==t?t.srcElement:null,window.setTimeout(function(){n.fire("fileAdded",r,t)},0)}(),c()}var g=i.generateUniqueIdentifier(e,t);g&&"function"==typeof g.then?g.then(function(e){d(e)},function(){c()}):d(g)})};function u(e,t,n){var r=this;r.opts={},r.getOpt=e.getOpt,r._prevProgress=0,r.resumableObj=e,r.file=t,r.fileName=t.fileName||t.name,r.size=t.size,r.relativePath=t.relativePath||t.webkitRelativePath||r.fileName,r.uniqueIdentifier=n,r._pause=!1,r.container="";var o=void 0!==n,a=function(e,t){switch(e){case"progress":r.resumableObj.fire("fileProgress",r,t);break;case"error":r.abort(),o=!0,r.chunks=[],r.resumableObj.fire("fileError",r,t);break;case"success":if(o)return;r.resumableObj.fire("fileProgress",r),r.isComplete()&&r.resumableObj.fire("fileSuccess",r,t);break;case"retry":r.resumableObj.fire("fileRetry",r)}};return r.chunks=[],r.abort=function(){var e=0;i.each(r.chunks,function(t){"uploading"==t.status()&&(t.abort(),e++)}),e>0&&r.resumableObj.fire("fileProgress",r)},r.cancel=function(){var e=r.chunks;r.chunks=[],i.each(e,function(e){"uploading"==e.status()&&(e.abort(),r.resumableObj.uploadNextChunk())}),r.resumableObj.removeFile(r),r.resumableObj.fire("fileProgress",r)},r.retry=function(){r.bootstrap();var e=!1;r.resumableObj.on("chunkingComplete",function(){e||r.resumableObj.upload(),e=!0})},r.bootstrap=function(){r.abort(),o=!1,r.chunks=[],r._prevProgress=0;for(var e=r.getOpt("forceChunkSize")?Math.ceil:Math.floor,t=Math.max(e(r.file.size/r.getOpt("chunkSize")),1),n=0;n<t;n++)!function(e){window.setTimeout(function(){r.chunks.push(new h(r.resumableObj,r,e,a)),r.resumableObj.fire("chunkingProgress",r,e/t)},0)}(n);window.setTimeout(function(){r.resumableObj.fire("chunkingComplete",r)},0)},r.progress=function(){if(o)return 1;var e=0,t=!1;return i.each(r.chunks,function(n){"error"==n.status()&&(t=!0),e+=n.progress(!0)}),e=t?1:e>.99999?1:e,e=Math.max(r._prevProgress,e),r._prevProgress=e,e},r.isUploading=function(){var e=!1;return i.each(r.chunks,function(t){if("uploading"==t.status())return e=!0,!1}),e},r.isComplete=function(){var e=!1;return i.each(r.chunks,function(t){var n=t.status();if("pending"==n||"uploading"==n||1===t.preprocessState)return e=!0,!1}),!e},r.pause=function(e){r._pause=void 0===e?!r._pause:e},r.isPaused=function(){return r._pause},r.resumableObj.fire("chunkingStart",r),r.bootstrap(),this}function h(e,t,n,r){var o=this;o.opts={},o.getOpt=e.getOpt,o.resumableObj=e,o.fileObj=t,o.fileObjSize=t.size,o.fileObjType=t.file.type,o.offset=n,o.callback=r,o.lastProgressCallback=new Date,o.tested=!1,o.retries=0,o.pendingRetry=!1,o.preprocessState=0;var a=o.getOpt("chunkSize");return o.loaded=0,o.startByte=o.offset*a,o.endByte=Math.min(o.fileObjSize,(o.offset+1)*a),o.fileObjSize-o.endByte<a&&!o.getOpt("forceChunkSize")&&(o.endByte=o.fileObjSize),o.xhr=null,o.test=function(){o.xhr=new XMLHttpRequest;var e=function(e){o.tested=!0;var t=o.status();"success"==t?(o.callback(t,o.message()),o.resumableObj.uploadNextChunk()):o.send()};o.xhr.addEventListener("load",e,!1),o.xhr.addEventListener("error",e,!1),o.xhr.addEventListener("timeout",e,!1);var t=[],n=o.getOpt("parameterNamespace"),r=o.getOpt("query");"function"==typeof r&&(r=r(o.fileObj,o)),i.each(r,function(e,i){t.push([encodeURIComponent(n+e),encodeURIComponent(i)].join("="))}),t=t.concat([["chunkNumberParameterName",o.offset+1],["chunkSizeParameterName",o.getOpt("chunkSize")],["currentChunkSizeParameterName",o.endByte-o.startByte],["totalSizeParameterName",o.fileObjSize],["typeParameterName",o.fileObjType],["identifierParameterName",o.fileObj.uniqueIdentifier],["fileNameParameterName",o.fileObj.fileName],["relativePathParameterName",o.fileObj.relativePath],["totalChunksParameterName",o.fileObj.chunks.length]].filter(function(e){return o.getOpt(e[0])}).map(function(e){return[n+o.getOpt(e[0]),encodeURIComponent(e[1])].join("=")})),o.xhr.open(o.getOpt("testMethod"),i.getTarget("test",t)),o.xhr.timeout=o.getOpt("xhrTimeout"),o.xhr.withCredentials=o.getOpt("withCredentials");var a=o.getOpt("headers");"function"==typeof a&&(a=a(o.fileObj,o)),i.each(a,function(e,t){o.xhr.setRequestHeader(e,t)}),o.xhr.send(null)},o.preprocessFinished=function(){o.preprocessState=2,o.send()},o.send=function(){var e=o.getOpt("preprocess");if("function"==typeof e)switch(o.preprocessState){case 0:return o.preprocessState=1,void e(o);case 1:return}if(!o.getOpt("testChunks")||o.tested){o.xhr=new XMLHttpRequest,o.xhr.upload.addEventListener("progress",function(e){new Date-o.lastProgressCallback>1e3*o.getOpt("throttleProgressCallbacks")&&(o.callback("progress"),o.lastProgressCallback=new Date),o.loaded=e.loaded||0},!1),o.loaded=0,o.pendingRetry=!1,o.callback("progress");var t=function(e){var t=o.status();if("success"==t||"error"==t)o.callback(t,o.message()),o.resumableObj.uploadNextChunk();else{o.callback("retry",o.message()),o.abort(),o.retries++;var n=o.getOpt("chunkRetryInterval");void 0!==n?(o.pendingRetry=!0,setTimeout(o.send,n)):o.send()}};o.xhr.addEventListener("load",t,!1),o.xhr.addEventListener("error",t,!1),o.xhr.addEventListener("timeout",t,!1);var n=[["chunkNumberParameterName",o.offset+1],["chunkSizeParameterName",o.getOpt("chunkSize")],["currentChunkSizeParameterName",o.endByte-o.startByte],["totalSizeParameterName",o.fileObjSize],["typeParameterName",o.fileObjType],["identifierParameterName",o.fileObj.uniqueIdentifier],["fileNameParameterName",o.fileObj.fileName],["relativePathParameterName",o.fileObj.relativePath],["totalChunksParameterName",o.fileObj.chunks.length]].filter(function(e){return o.getOpt(e[0])}).reduce(function(e,t){return e[o.getOpt(t[0])]=t[1],e},{}),r=o.getOpt("query");"function"==typeof r&&(r=r(o.fileObj,o)),i.each(r,function(e,t){n[e]=t});var a=o.fileObj.file.slice?"slice":o.fileObj.file.mozSlice?"mozSlice":o.fileObj.file.webkitSlice?"webkitSlice":"slice",s=o.fileObj.file[a](o.startByte,o.endByte,o.getOpt("setChunkTypeFromFile")?o.fileObj.file.type:""),l=null,c=[],u=o.getOpt("parameterNamespace");if("octet"===o.getOpt("method"))l=s,i.each(n,function(e,t){c.push([encodeURIComponent(u+e),encodeURIComponent(t)].join("="))});else if(l=new FormData,i.each(n,function(e,t){l.append(u+e,t),c.push([encodeURIComponent(u+e),encodeURIComponent(t)].join("="))}),"blob"==o.getOpt("chunkFormat"))l.append(u+o.getOpt("fileParameterName"),s,o.fileObj.fileName);else if("base64"==o.getOpt("chunkFormat")){var h=new FileReader;h.onload=function(e){l.append(u+o.getOpt("fileParameterName"),h.result),o.xhr.send(l)},h.readAsDataURL(s)}var f=i.getTarget("upload",c),m=o.getOpt("uploadMethod");o.xhr.open(m,f),"octet"===o.getOpt("method")&&o.xhr.setRequestHeader("Content-Type","application/octet-stream"),o.xhr.timeout=o.getOpt("xhrTimeout"),o.xhr.withCredentials=o.getOpt("withCredentials");var p=o.getOpt("headers");"function"==typeof p&&(p=p(o.fileObj,o)),i.each(p,function(e,t){o.xhr.setRequestHeader(e,t)}),"blob"==o.getOpt("chunkFormat")&&o.xhr.send(l)}else o.test()},o.abort=function(){o.xhr&&o.xhr.abort(),o.xhr=null},o.status=function(){return o.pendingRetry?"uploading":o.xhr?o.xhr.readyState<4?"uploading":200==o.xhr.status||201==o.xhr.status?"success":i.contains(o.getOpt("permanentErrors"),o.xhr.status)||o.retries>=o.getOpt("maxChunkRetries")?"error":(o.abort(),"pending"):"pending"},o.message=function(){return o.xhr?o.xhr.responseText:""},o.progress=function(e){void 0===e&&(e=!1);var t=e?(o.endByte-o.startByte)/o.fileObjSize:1;if(o.pendingRetry)return 0;switch(o.xhr&&o.xhr.status||(t*=.95),o.status()){case"success":case"error":return 1*t;case"pending":return 0*t;default:return o.loaded/(o.endByte-o.startByte)*t}},this}return n.uploadNextChunk=function(){var e=!1;if(n.getOpt("prioritizeFirstAndLastChunk")&&(i.each(n.files,function(t){return t.chunks.length&&"pending"==t.chunks[0].status()&&0===t.chunks[0].preprocessState?(t.chunks[0].send(),e=!0,!1):t.chunks.length>1&&"pending"==t.chunks[t.chunks.length-1].status()&&0===t.chunks[t.chunks.length-1].preprocessState?(t.chunks[t.chunks.length-1].send(),e=!0,!1):void 0}),e))return!0;if(i.each(n.files,function(t){if(!1===t.isPaused()&&i.each(t.chunks,function(t){if("pending"==t.status()&&0===t.preprocessState)return t.send(),e=!0,!1}),e)return!1}),e)return!0;var t=!1;return i.each(n.files,function(e){if(!e.isComplete())return t=!0,!1}),t||n.fire("complete"),!1},n.assignBrowse=function(e,t){void 0===e.length&&(e=[e]),i.each(e,function(e){var i;"INPUT"===e.tagName&&"file"===e.type?i=e:((i=document.createElement("input")).setAttribute("type","file"),i.style.display="none",e.addEventListener("click",function(){i.style.opacity=0,i.style.display="block",i.focus(),i.click(),i.style.display="none"},!1),e.appendChild(i));var r=n.getOpt("maxFiles");void 0===r||1!=r?i.setAttribute("multiple","multiple"):i.removeAttribute("multiple"),t?i.setAttribute("webkitdirectory","webkitdirectory"):i.removeAttribute("webkitdirectory");var o=n.getOpt("fileType");void 0!==o&&o.length>=1?i.setAttribute("accept",o.map(function(e){return(e=e.replace(/\s/g,"").toLowerCase()).match(/^[^.][^/]+$/)&&(e="."+e),e}).join(",")):i.removeAttribute("accept"),i.addEventListener("change",function(e){c(e.target.files,e),n.getOpt("clearInput")&&(e.target.value="")},!1)})},n.assignDrop=function(e){void 0===e.length&&(e=[e]),i.each(e,function(e){e.addEventListener("dragover",o,!1),e.addEventListener("dragenter",o,!1),e.addEventListener("drop",r,!1)})},n.unAssignDrop=function(e){void 0===e.length&&(e=[e]),i.each(e,function(e){e.removeEventListener("dragover",o),e.removeEventListener("dragenter",o),e.removeEventListener("drop",r)})},n.isUploading=function(){var e=!1;return i.each(n.files,function(t){if(t.isUploading())return e=!0,!1}),e},n.upload=function(){if(!n.isUploading()){n.fire("uploadStart");for(var e=1;e<=n.getOpt("simultaneousUploads");e++)n.uploadNextChunk()}},n.pause=function(){i.each(n.files,function(e){e.abort()}),n.fire("pause")},n.cancel=function(){n.fire("beforeCancel");for(var e=n.files.length-1;e>=0;e--)n.files[e].cancel();n.fire("cancel")},n.progress=function(){var e=0,t=0;return i.each(n.files,function(n){e+=n.progress()*n.size,t+=n.size}),t>0?e/t:0},n.addFile=function(e,t){c([e],t)},n.addFiles=function(e,t){c(e,t)},n.removeFile=function(e){for(var t=n.files.length-1;t>=0;t--)n.files[t]===e&&n.files.splice(t,1)},n.getFromUniqueIdentifier=function(e){var t=!1;return i.each(n.files,function(n){n.uniqueIdentifier==e&&(t=n)}),t},n.getSize=function(){var e=0;return i.each(n.files,function(t){e+=t.size}),e},n.handleDropEvent=function(e){r(e)},n.handleChangeEvent=function(e){c(e.target.files,e),e.target.value=""},n.updateQuery=function(e){n.opts.query=e},this};"undefined"!=typeof module?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):window.Resumable=e}(),(()=>{window.Layout={},Layout._onOverlayClick=t;var e={overlayHide:"Layout__overlay_hide"};function t(t){t.classList.add(e.overlayHide),setTimeout(()=>{t.remove()},600)}})();var $=document.querySelector.bind(document),$$=document.querySelectorAll.bind(document),slidesCount=document.querySelectorAll(".slider__slide").length,active=0,RIGHT_ARROW=39,LEFT_ARROW=37;function nextSlide(){document.querySelector(".slider").classList.remove("slider_first"),active<slidesCount-1&&(active+=1,actualizeLine()),active===slidesCount-1&&document.querySelector(".slider").classList.add("slider_last");$(".slider_firstPhotoAlone")}function prevSlide(){document.querySelector(".slider").classList.remove("slider_last"),active>0&&(active-=1,actualizeLine()),0===active&&document.querySelector(".slider").classList.add("slider_first")}function actualizeLine(){var e=document.querySelector(".slider__line"),t=-800*active;e.style.transform="translateX("+t+"px)"}window.addEventListener("keydown",function(e){e.keyCode==RIGHT_ARROW&&nextSlide(),e.keyCode==LEFT_ARROW&&prevSlide()});var img=1,intro=(RIGHT_ARROW=39,LEFT_ARROW=37,document.querySelector(".intro"));if("/"===location.pathname)var timer=setInterval(showNextImg,3e3);function showNextImg(){const e=$(".intro__content_active");(e.nextElementSibling||e.parentElement.firstElementChild).classList.add("intro__content_active"),e.classList.remove("intro__content_active")}function showPrevImg(){const e=$(".intro__content_active");(e.previousElementSibling||e.parentElement.lastElementChild).classList.add("intro__content_active"),e.classList.remove("intro__content_active")}function killTimer(){clearInterval(timer)}function onNextPress(){showNextImg(),killTimer()}function onPrevPress(){showPrevImg(),killTimer()}function html(e){return e}function initUpload(){const e=new Resumable({target:"/upload",maxFiles:1});e.assignBrowse($$(".upload__photo")),e.assignDrop($$(".upload__photo")),e.on("fileAdded",(t,n)=>{var i=n.target.closest(".upload__photo");e.upload(),i.insertAdjacentHTML("beforeend",g.skin.PhotoLoad.render({id:t.uniqueIdentifier}))}),e.on("fileProgress",(e,t)=>{const n=$(`.PhotoLoad[data-id="${e.uniqueIdentifier}"]`);n&&g.skin.PhotoLoad.setProgress(n,100*e.progress())}),e.on("fileSuccess",(e,t)=>{const n=$(`.PhotoLoad[data-id="${e.uniqueIdentifier}"]`);n&&"0"!==t&&(t=JSON.parse(t),g.skin.PhotoLoad.setPhoto(n,t.photo),n.setAttribute("data-id",t.id))}),e.on("fileError",(e,t)=>{console.log("file error"),console.log("ERROR!!!")}),e.on("fileRetry",e=>{})}window.addEventListener("keydown",function(e){e.keyCode==RIGHT_ARROW&&onNextPress(),e.keyCode==LEFT_ARROW&&onPrevPress()}),window.Join={_onSubmit(e){$$(".PhotoLoad").forEach(e=>{var t=e.dataset.id;e.insertAdjacentHTML("afterend",html(`\n        <input name="photo" value="${t}" />\n      `))})}},initUpload(),(()=>{const e=g.q;g.skin.PhotoLoad={render:function(t={}){const n=t.photo,i=n?e.attr("style",`background-image: url('${n}')`):"",r=e.onClick("skin.PhotoLoad._onRemoveClick","event","this");return e.html`
    <div class="PhotoLoad" ${i} data-id="${t.id}">
      <div class="PhotoLoad__remove" ${r}>✕</div>
      ${100===t.percent?"":e.html`
        <div class="PhotoLoad__progress">
          <div class="PhotoLoad__progressLine"></div>
        </div>
      `}
    </div>
  `}}})(),(()=>{const e=g.skin.PhotoLoad||(g.skin.PhotoLoad={});function t(e,t){t.closest(".PhotoLoad").classList.toggle("PhotoLoad_removed")}Object.assign(e,{setPhoto:function(e,t){e.style.backgroundImage=`url('${t}')`},setProgress:function(e,t){const i=e.$(n.progressLine);100===t?(i.style.width=`${t}%`,setTimeout(()=>{i.parentElement.remove()},200)):i.style.width=`${t}%`}}),e._onRemoveClick=t;var n={progressLine:".PhotoLoad__progressLine"}})();